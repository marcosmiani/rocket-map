(this["webpackJsonprocket-map"]=this["webpackJsonprocket-map"]||[]).push([[0],{70:function(n,t,e){},81:function(n,t,e){"use strict";e.r(t);var r=e(3),a=e(0),c=e.n(a),i=e(30),o=e.n(i),u=(e(70),e(61)),s=e(5),d=e(29),l=e(10),f=e(6);function j(){var n=Object(s.a)(["\n  margin-top: 100px;\n  max-height: calc(100vh - 200px);\n"]);return j=function(){return n},n}function b(){var n=Object(s.a)(["\n  cursor: pointer;\n"]);return b=function(){return n},n}function p(){var n=Object(s.a)(["\n  color: red;\n  font-size: 16px;\n"]);return p=function(){return n},n}function h(){var n=Object(s.a)(["\n  color: white;\n  font-size: 16px;\n"]);return h=function(){return n},n}function m(){var n=Object(s.a)(["\n  cursor: wait;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return m=function(){return n},n}var O,x,g=f.a.div(m()),v=f.a.div(h()),y=f.a.div(p()),w=Object(f.a)(d.Marker)(b()),k=Object(f.a)(d.ComposableMap)(j()),S=function(n){var t=n.marker,e=n.onSelect,a=t.name,c=t.coordinates,i=t.first;return Object(r.jsx)(w,{coordinates:c,onClick:function(){return e(t)},children:Object(r.jsx)("circle",{r:4,fill:i?"#F00":"#0F0",stroke:"#fff",strokeWidth:2})},a)},E=function(n){var t=n.onSelect,e=Object(l.c)((function(n){return n.map.locations.items})),a=Object(l.c)((function(n){return n.map.locations.loading})),c=Object(l.c)((function(n){return n.map.locations.error}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{"data-testid":"map",children:Object(r.jsxs)(d.ZoomableGroup,{zoom:1,children:[Object(r.jsx)(d.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",children:function(n){return n.geographies.map((function(n){return Object(r.jsx)(d.Geography,{geography:n,fill:"#EAEAEC",stroke:"#D6D6DA"},n.rsmKey)}))}}),!a&&!c&&e.map((function(n){return Object(r.jsx)(S,{marker:n,onSelect:t},n.name)}))]})}),(a||c)&&Object(r.jsxs)(g,{children:[a&&Object(r.jsx)(v,{children:"Loading data..."}),c&&Object(r.jsx)(y,{children:c})]})]})},D=e(20),C=e(8),F=e(86),z=e(85),A=e(87),G=function(n){return Object(F.a)(Object(z.a)(n,Y,new Date),Y)},L=function(){return Object(F.a)(new Date,Y)},M=function(){return Object(F.a)(Object(A.a)(new Date,{months:3}),Y)},R=Object(D.c)({name:"search/from",initialState:"",reducers:{set:function(n,t){return G(t.payload)}}}),I=R.actions,T=Object(D.c)({name:"search/to",initialState:"",reducers:{set:function(n,t){return G(t.payload)}}}),_=R.actions,B=Object(C.c)({from:R.reducer,to:T.reducer}),J=e(19),N=e(15),P=e.n(N),U=e(58),K=e(59),W=e(60),Z=e.n(W);function q(n){if(n.status>=200&&n.status<300)return n;throw new Error(n.statusText)}function H(n){return n.json()}!function(n){n[n.GREEN=1]="GREEN",n[n.RED=2]="RED",n[n.SUCCESS=3]="SUCCESS",n[n.FAILED=4]="FAILED"}(x||(x={}));var Q=Object(D.b)("map/locations_by_date",function(){var n=Object(U.a)(P.a.mark((function n(t,e){var r,a,c,i;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.getState(),a=r.search,c=a.from,i=a.to,n.abrupt("return",Object(K.a)(Z()("https://launchlibrary.net/1.3/launch/".concat(c||L(),"/").concat(i||M())),{method:"GET"}).then(q).then(H));case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()),V=Object(D.c)({name:"map_locations",initialState:{items:[],loading:!1,error:""},reducers:{},extraReducers:(O={},Object(J.a)(O,Q.rejected,(function(n,t){n.loading=!1,n.error="".concat(t.payload)})),Object(J.a)(O,Q.pending,(function(n,t){n.loading=!0,n.error=""})),Object(J.a)(O,Q.fulfilled,(function(n,t){n.loading=!1,n.error="";var e=t.payload.launches[0]?t.payload.launches[0].id:null;n.items=t.payload.launches.map((function(n){var t=n.id;return{id:t,name:n.name,first:e===t,status:x[n.status],date:n.net,agencies:(n.location.pads[0].agencies||[]).map((function(n){return{id:n.id,name:n.name}})),coordinates:[n.location.pads[0].latitude,n.location.pads[0].longitude]}}))})),O)}),X=Object(C.c)({locations:V.reducer}),Y="yyyy-MM-dd";function $(){var n=Object(s.a)(["\n  height: 30px;\n  background-color: darkgreen;\n  border: 0;\n  border-radius: 2px;\n  color: white;\n  font-size: 16px;\n  padding: 0 16px;\n  margin: 16px 0;\n\n  &:disabled {\n    background-color: darkgray;\n  }\n"]);return $=function(){return n},n}function nn(){var n=Object(s.a)(["\n  margin: 0 4px;\n  height: 25px;\n  font-size: 16px;\n  width: 180px;\n"]);return nn=function(){return n},n}function tn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin-right: 8px;\n"]);return tn=function(){return n},n}function en(){var n=Object(s.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n  border-radius: 2px;\n"]);return en=function(){return n},n}var rn=f.a.header(en()),an=f.a.div(tn()),cn=f.a.input(nn()),on=f.a.button($());var un=function(){var n=Object(l.b)(),t=Object(l.c)((function(n){return n.map.locations.loading})),e=Object(l.c)((function(n){return n.search.from})),a=Object(l.c)((function(n){return n.search.to}));return Object(r.jsxs)(rn,{children:[Object(r.jsxs)(an,{children:[Object(r.jsx)(cn,{"data-testid":"date-from",name:"date-from",type:"date",value:e||L(),max:a,onChange:function(t){return n(I.set(t.target.value))}}),"-",Object(r.jsx)(cn,{type:"date",name:"date-to","data-testid":"date-to",value:a||M(),min:e,onChange:function(t){return n(_.set(t.target.value))}})]}),Object(r.jsx)(on,{"data-testid":"search-button",disabled:t,onClick:function(){return n(Q())},children:"Search"})]})};function sn(){var n=Object(s.a)(["\n  position: fixed;\n  bottom: 10px;\n  right: 10px;\n  background-color: white;\n  color: black;\n  min-width: 150px;\n  min-height: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  padding: 16px;\n  border-radius: 4px;\n"]);return sn=function(){return n},n}function dn(){var n=Object(s.a)([""]);return dn=function(){return n},n}function ln(){var n=Object(s.a)([""]);return ln=function(){return n},n}function fn(){var n=Object(s.a)(["\n  display: block;\n  padding-left: 16px;\n"]);return fn=function(){return n},n}function jn(){var n=Object(s.a)(["\n  display: block;\n"]);return jn=function(){return n},n}function bn(){var n=Object(s.a)(["\n  display: block;\n  font-weight: 800;\n  padding-bottom: 8px;\n"]);return bn=function(){return n},n}var pn=f.a.div(bn()),hn=f.a.div(jn()),mn=f.a.div(fn()),On=f.a.div(ln()),xn=f.a.div(dn()),gn=f.a.div(sn());var vn=function(n){var t=n.markerDetails;return Object(r.jsxs)(gn,{children:[Object(r.jsx)(pn,{children:t.name}),!!t.date&&Object(r.jsxs)(On,{children:["Launch Date: ",t.date]}),Object(r.jsxs)(xn,{children:["Status: ",t.status]}),Object(r.jsxs)(hn,{children:["Agencies:",t.agencies.map((function(n){return Object(r.jsx)(mn,{children:n.name},n.id)}))]})]})};function yn(){var n=Object(s.a)(["\n  height: 100vh;\n  width: 100vw;\n  background-color: #282c34;\n  overflow: hidden;\n"]);return yn=function(){return n},n}var wn=Object(D.a)({reducer:Object(C.c)({search:B,map:X})}),kn=f.a.div(yn());var Sn=function(){var n=Object(a.useState)(null),t=Object(u.a)(n,2),e=t[0],c=t[1];return Object(r.jsx)(l.a,{store:wn,children:Object(r.jsxs)(kn,{children:[Object(r.jsx)(un,{}),Object(r.jsx)(E,{onSelect:c}),e&&Object(r.jsx)(vn,{markerDetails:e})]})})},En=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,88)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;e(n),r(n),a(n),c(n),i(n)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Sn,{})}),document.getElementById("root")),En()}},[[81,1,2]]]);
//# sourceMappingURL=main.b242f19e.chunk.js.map